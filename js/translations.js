const translations = {
    en: {
        "nav_home": "Home",
        "nav_tours": "Tours",
        "nav_rentals": "Rentals",
        "nav_about": "About",
        "nav_laos": "Laos",
        "nav_support": "Support",
        "nav_contact": "Contact",
        "hero_title": "Discover Laos with a Smile",
        "hero_subtitle": "Experience authentic culture, breathtaking nature, and soulful adventures guided by local experts.",
        "hero_btn": "Explore Experiences",
        "laos_hero_title": "Authentic Laos",
        "laos_hero_subtitle": "A Journey into the Heart of Southeast Asia",
        "section_tours_title": "Our Most Loved Experiences",
        "view_details": "Discover More",
        "view_package_details": "View Package Details",
        "support_title": "Customer Support Center",
        "support_subtitle": "We're here to help you every step of the way. Reach out through any of our support channels for immediate assistance.",
        "whatsapp_support": "WhatsApp Support",
        "email_support": "Email Support",
        "hotline_support": "24/7 Hotline",
        "chat_now": "Chat Now",
        "faq_title": "Frequently Asked Questions",
        "get_in_touch": "Get In Touch",
        "contact_info": "Contact Information",
        "footer_about": "Your trusted local partner for authentic adventures. We share the heart and soul of Laos with every smile.",
        "quick_links": "Quick Links",
        "all_rights_reserved": "All rights reserved.",
        "phone": "Phone",
        "email": "Email",
        "location": "Location",
        "your_name": "Your Name",
        "your_email": "Your Email",
        "message": "Message",
        "send_message": "Send Message",
        "search_tickets": "Search Rentals",
        "book_now": "Rent Now",
        "tours_title": "Soulful Adventures in Luang Prabang",
        "tours_subtitle": "Immerse yourself in the spiritual and natural beauty of Luang Prabang. Our curated tours are designed to create lasting memories.",
        "rentals_title": "Car & Motorbike Rental",
        "book_your_rental": "Book Your Rental",
        "form_instruction": "Fill out the form below to book your rental. We will contact you to confirm the details and payment.",
        "travel_date": "Rental Date",
        "guests": "Number of Days",
        "selected_ticket": "Selected Vehicle",
        "full_name": "Full Name",
        "email_address": "Email Address",
        "phone_number": "WhatsApp / Phone",
        "special_requests": "Special Requests / Notes",
        "request_booking": "Request Booking",
        "inquire_now": "Inquire Now",
        "chat_to_book": "Chat to Book",
        "bot_greeting": "Sabaidee! ðŸ™ Welcome to Laos Smile Trip. How can I help you today?",
        "bot_status": "Online",
        "bot_button": "Chat on WhatsApp"
    },
    lo: {
        "nav_home": "à»œà»‰àº²àº—àº³àº­àº´àº”",
        "nav_tours": "àºàº²àº™àº—à»ˆàº­àº‡àº—à»ˆàº½àº§",
        "nav_rentals": "àºàº²àº™à»€àºŠàº»à»ˆàº²àº¥àº»àº”",
        "nav_about": "àºà»ˆàº½àº§àºàº±àºš",
        "nav_laos": "àºà»ˆàº½àº§àºàº±àºšàº¥àº²àº§",
        "nav_support": "àºŠà»ˆàº§àºà»€àº«àº¼àº·àº­",
        "nav_contact": "àº•àº´àº”àº•à»à»ˆ",
        "hero_title": "àº„àº»à»‰àº™àºžàº»àºšàº„àº§àº²àº¡àº‡àº²àº¡àº—àºµà»ˆà»àº—à»‰àºˆàº´àº‡àº‚àº­àº‡àº«àº¼àº§àº‡àºžàº°àºšàº²àº‡",
        "hero_subtitle": "àºªàº³àºœàº±àº”àºàº±àºšàº§àº±àº”àº—àº°àº™àº°àº—àº³àº—àºµà»ˆàº”àºµàº‡àº²àº¡, àº—àº³àº¡àº°àºŠàº²àº”àº—àºµà»ˆàºªàº§àºàº‡àº²àº¡ à»àº¥àº° àºàº²àº™àºœàº°àºˆàº»àº™à»„àºžàº—àºµà»ˆàºšà»à»ˆàºªàº²àº¡àº²àº”àº¥àº·àº¡à»„àº”à»‰àºàº±àºšàº—àºµàº¡àº‡àº²àº™àº—à»‰àº­àº‡àº–àº´à»ˆàº™.",
        "hero_btn": "àºªàº³àº«àº¼àº§àº”àº—àº»àº§",
        "laos_hero_title": "àº„àº»à»‰àº™àºžàº»àºšàº›àº°à»€àº—àº”àº¥àº²àº§",
        "laos_hero_subtitle": "àº­àº±àº™àºàº°àº¡àº°àº™àºµà»àº«à»ˆàº‡àº­àº²àºŠàºµàº•àº²à»€àº§àº±àº™àº­àº­àºàºªà»ˆàº½àº‡à»ƒàº•à»‰",
        "section_tours_title": "àº—àº»àº§àº—àºµà»ˆà»œà»‰àº²àºªàº»àº™à»ƒàºˆ",
        "view_details": "à»€àºšàº´à»ˆàº‡àº¥àº²àºàº¥àº°àº­àº½àº”",
        "view_package_details": "à»€àºšàº´à»ˆàº‡àº¥àº²àºàº¥àº°àº­àº½àº”à»àºžàº±àºà»€àºàº”",
        "support_title": "àºªàº¹àº™àºŠà»ˆàº§àºà»€àº«àº¼àº·àº­àº¥àº¹àºàº„à»‰àº²",
        "support_subtitle": "àºžàº§àºà»€àº®àº»àº²àºžà»‰àº­àº¡àº—àºµà»ˆàºˆàº°àºŠà»ˆàº§àºà»€àº«àº¼àº·àº­àº—à»ˆàº²àº™à»ƒàº™àº—àº¸àºà»†àº‚àº±à»‰àº™àº•àº­àº™. àº•àº´àº”àº•à»à»ˆàºžàº§àºà»€àº®àº»àº²àºœà»ˆàº²àº™àºŠà»ˆàº­àº‡àº—àº²àº‡àº•à»ˆàº²àº‡à»†à»€àºžàº·à»ˆàº­àº®àº±àºšàºàº²àº™àºŠà»ˆàº§àºà»€àº«àº¼àº·àº­àº—àº±àº™àº—àºµ.",
        "whatsapp_support": "àºŠà»ˆàº§àºà»€àº«àº¼àº·àº­àºœà»ˆàº²àº™ WhatsApp",
        "email_support": "àºŠà»ˆàº§àºà»€àº«àº¼àº·àº­àºœà»ˆàº²àº™ Email",
        "hotline_support": "àºªàº²àºàº”à»ˆàº§àº™ 24/7",
        "chat_now": "àºªàº»àº™àº—àº°àº™àº²àº•àº­àº™àº™àºµà»‰",
        "faq_title": "àº„àº³àº–àº²àº¡àº—àºµà»ˆàºžàº»àºšà»€àº¥àº·à»‰àº­àº",
        "get_in_touch": "àº•àº´àº”àº•à»à»ˆàºžàº§àºà»€àº®àº»àº²",
        "contact_info": "àº‚à»à»‰àº¡àº¹àº™àºàº²àº™àº•àº´àº”àº•à»à»ˆ",
        "footer_about": "àº„àº¹à»ˆàº®à»ˆàº§àº¡àº‡àº²àº™àº—à»‰àº­àº‡àº–àº´à»ˆàº™àº—àºµà»ˆàº—à»ˆàº²àº™à»„àº§à»‰àº§àº²àº‡à»ƒàºˆ àºªàº³àº¥àº±àºšàºàº²àº™àºœàº°àºˆàº»àº™à»„àºžàº—àºµà»ˆàºšà»à»ˆàº¡àºµàº§àº±àº™àº¥àº·àº¡.",
        "quick_links": "àº¥àº´à»‰àº‡àº”à»ˆàº§àº™",
        "all_rights_reserved": "àºªàº°àº«àº‡àº§àº™àº¥àº´àº‚àº°àºªàº´àº”.",
        "phone": "à»€àºšàºµà»‚àº—àº¥àº°àºªàº±àºš",
        "email": "àº­àºµà»€àº¡àº§",
        "location": "àºªàº°àº–àº²àº™àº—àºµà»ˆ",
        "your_name": "àºŠàº·à»ˆàº‚àº­àº‡àº—à»ˆàº²àº™",
        "your_email": "àº­àºµà»€àº¡àº§àº‚àº­àº‡àº—à»ˆàº²àº™",
        "message": "àº‚à»à»‰àº„àº§àº²àº¡",
        "send_message": "àºªàº»à»ˆàº‡àº‚à»à»‰àº„àº§àº²àº¡",
        "search_tickets": "àº„àº»à»‰àº™àº«àº²àºàº²àº™à»€àºŠàº»à»ˆàº²",
        "book_now": "àºˆàº­àº‡àº•àº­àº™àº™àºµà»‰",
        "tours_title": "àº—àº»àº§àºœàº°àºˆàº»àº™à»„àºžà»ƒàº™àº«àº¼àº§àº‡àºžàº°àºšàº²àº‡",
        "tours_subtitle": "àºªàº³àº«àº¼àº§àº”àº„àº§àº²àº¡àº¡àº«àº±àº”àºªàº°àºˆàº±àº™àº‚àº­àº‡àº«àº¼àº§àº‡àºžàº°àºšàº²àº‡àº”à»‰àº§àºàº—àº»àº§àºœàº°àºˆàº»àº™à»„àºžàº—àºµà»ˆàºžàº§àºà»€àº®àº»àº²àº„àº±àº”àºªàº±àº™àº¡àº²àº¢à»ˆàº²àº‡àº”àºµ. àº•àº±à»‰àº‡à»àº•à»ˆàº§àº±àº”àº§àº²àº­àº²àº®àº²àº¡àº—àºµà»ˆàºªàº±àºàºªàº´àº” àºˆàº»àº™à»€àº–àº´àº‡àº›àº°àºªàº»àºšàºàº²àº™àºàº²àº‡à»àºˆà»‰àº‡àº—àºµà»ˆàº•àº·à»ˆàº™à»€àº•àº±à»‰àº™.",
        "rentals_title": "àºàº²àº™à»€àºŠàº»à»ˆàº²àº¥àº»àº”à»ƒàº«àºà»ˆ à»àº¥àº° àº¥àº»àº”àºˆàº±àº",
        "book_your_rental": "àºˆàº­àº‡àºàº²àº™à»€àºŠàº»à»ˆàº²àº‚àº­àº‡àº—à»ˆàº²àº™",
        "form_instruction": "àºàº°àº¥àº¸àº™àº²àº•àº·à»ˆàº¡àº‚à»à»‰àº¡àº¹àº™àº¥àº¸à»ˆàº¡àº™àºµà»‰à»€àºžàº·à»ˆàº­àºˆàº­àº‡àºàº²àº™à»€àºŠàº»à»ˆàº². àºžàº§àºà»€àº®àº»àº²àºˆàº°àº•àº´àº”àº•à»à»ˆàº«àº²àº—à»ˆàº²àº™à»€àºžàº·à»ˆàº­àº¢àº·àº™àº¢àº±àº™àº¥àº²àºàº¥àº°àº­àº½àº” à»àº¥àº° àºàº²àº™àºŠàº³àº¥àº°à»€àº‡àº´àº™.",
        "travel_date": "àº§àº±àº™àº—àºµà»€àºŠàº»à»ˆàº²",
        "guests": "àºˆàº³àº™àº§àº™àº¡àº·à»‰",
        "selected_ticket": "àº¥àº»àº”àº—àºµà»ˆà»€àº¥àº·àº­àº",
        "full_name": "àºŠàº·à»ˆà»€àº•àº±àº¡",
        "email_address": "àº—àºµà»ˆàº¢àº¹à»ˆàº­àºµà»€àº¡àº§",
        "phone_number": "WhatsApp / à»€àºšàºµà»‚àº—",
        "special_requests": "àº„àº³àº®à»‰àº­àº‡àº‚à»à»€àºžàºµà»ˆàº¡à»€àº•àºµàº¡ / à»àº²àºà»€àº«àº”",
        "request_booking": "àº®à»‰àº­àº‡àº‚à»àºàº²àº™àºˆàº­àº‡",
        "inquire_now": "àºªàº­àºšàº–àº²àº¡àº•àº­àº™àº™àºµà»‰",
        "chat_to_book": "àºªàº»àº™àº—àº°àº™àº²à»€àºžàº·à»ˆàº­àºˆàº­àº‡",
        "bot_greeting": "àºªàº°àºšàº²àºàº”àºµ! ðŸ™ àºàº´àº™àº”àºµàº•à»‰àº­àº™àº®àº±àºšàºªàº¹à»ˆ Laos Smile Trip. àº¡àºµàº«àºàº±àº‡à»ƒàº«à»‰àºžàº§àºà»€àº®àº»àº²àºŠà»ˆàº§àºàºšà»à»ˆ?",
        "bot_status": "àº­àº­àº™à»„àº¥àº™à»Œ",
        "bot_button": "àº¥àº»àº¡àºœà»ˆàº²àº™ WhatsApp"
    }
};

function setLanguage(lang) {
    localStorage.setItem('preferredLanguage', lang);
    document.documentElement.setAttribute('lang', lang);
    applyTranslations(lang);
    updateToggleUI(lang);
}

function applyTranslations(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                el.placeholder = translations[lang][key];
            } else {
                el.textContent = translations[lang][key];
            }
        }
    });

    // Handle Body Classes for Language-Specific Styling
    document.body.classList.remove('lao-font');
    if (lang === 'lo') {
        document.body.classList.add('lao-font');
    }
}

function updateToggleUI(lang) {
    const btns = {
        'en': document.getElementById('lang-en'),
        'lo': document.getElementById('lang-lo')
    };

    // Clear all active classes
    Object.values(btns).forEach(btn => {
        if (btn) btn.classList.remove('active');
    });

    // Add active class to current lang button
    if (btns[lang]) {
        btns[lang].classList.add('active');
    }
}

function initLanguage() {
    const savedLang = localStorage.getItem('preferredLanguage') || 'en';
    setLanguage(savedLang);
}

document.addEventListener('DOMContentLoaded', () => {
    initLanguage();

    const langSelectors = [
        { id: 'lang-en', lang: 'en' },
        { id: 'lang-lo', lang: 'lo' }
    ];

    langSelectors.forEach(selector => {
        const btn = document.getElementById(selector.id);
        if (btn) {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                setLanguage(selector.lang);
            });
        }
    });
});
