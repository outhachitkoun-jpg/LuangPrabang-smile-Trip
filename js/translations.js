const translations = {
    en: {
        "nav_home": "Home",
        "nav_tours": "Tours",
        "nav_packages": "Packages",
        "nav_tickets": "Tickets",
        "nav_about": "About",
        "nav_support": "Support",
        "nav_contact": "Contact",
        "hero_title": "Discover the Untouched Soul of Laos",
        "hero_subtitle": "Experience authentic culture, breathtaking nature, and unforgettable adventures with local experts.",
        "hero_btn": "Explore Tours",
        "section_tours_title": "Featured Tours",
        "view_details": "View Tour Details",
        "view_package_details": "View Package Details",
        "support_title": "Customer Support Center",
        "support_subtitle": "We're here to help you every step of the way. Reach out through any of our support channels for immediate assistance.",
        "whatsapp_support": "WhatsApp Support",
        "email_support": "Email Support",
        "hotline_support": "24/7 Hotline",
        "chat_now": "Chat Now",
        "faq_title": "Frequently Asked Questions",
        "get_in_touch": "Get In Touch",
        "contact_info": "Contact Information",
        "footer_about": "Your trusted local partner for unforgettable Asian adventures.",
        "quick_links": "Quick Links",
        "all_rights_reserved": "All rights reserved.",
        "phone": "Phone",
        "email": "Email",
        "location": "Location",
        "your_name": "Your Name",
        "your_email": "Your Email",
        "message": "Message",
        "send_message": "Send Message",
        "search_tickets": "Search Tickets",
        "book_now": "Book Now",
        "tours_title": "Adventure Tours in Laos",
        "tours_subtitle": "Explore the wonders of Laos with our carefully curated adventure tours. From spiritual temples to thrilling outdoor experiences, each tour is designed to create unforgettable memories.",
        "packages_title": "Multi-Day Tour Packages",
        "tickets_title": "Book Bus & Train Tickets",
        "book_your_ticket": "Book Your Ticket",
        "form_instruction": "Fill out the form below to book your ticket. We will contact you to confirm the details and payment.",
        "travel_date": "Travel Date",
        "guests": "Number of Guests",
        "selected_ticket": "Selected Ticket",
        "full_name": "Full Name",
        "email_address": "Email Address",
        "phone_number": "WhatsApp / Phone",
        "special_requests": "Special Requests / Notes",
        "request_booking": "Request Booking",
        "inquire_now": "Inquire Now",
        "chat_to_book": "Chat to Book"
    },
    lo: {
        "nav_home": "ໜ້າທຳອິດ",
        "nav_tours": "ການທ່ອງທ່ຽວ",
        "nav_packages": "ແພັກເກດ",
        "nav_tickets": "ປີ້",
        "nav_about": "ກ່ຽວກັບ",
        "nav_support": "ຊ່ວຍເຫຼືອ",
        "nav_contact": "ຕິດຕໍ່",
        "hero_title": "ຄົ້ນພົບຄວາມງາມທີ່ແທ້ຈິງຂອງລາວ",
        "hero_subtitle": "ສຳຜັດກັບວັດທະນະທຳທີ່ດີງາມ, ທຳມະຊາດທີ່ສວຍງາມ ແລະ ການຜະຈົນໄພທີ່ບໍ່ສາມາດລືມໄດ້ກັບທີມງານທ້ອງຖິ່ນ.",
        "hero_btn": "ສຳຫຼວດທົວ",
        "section_tours_title": "ທົວທີ່ໜ້າສົນໃຈ",
        "view_details": "ເບິ່ງລາຍລະອຽດ",
        "view_package_details": "ເບິ່ງລາຍລະອຽດແພັກເກດ",
        "support_title": "ສູນຊ່ວຍເຫຼືອລູກຄ້າ",
        "support_subtitle": "ພວກເຮົາພ້ອມທີ່ຈະຊ່ວຍເຫຼືອທ່ານໃນທຸກໆຂັ້ນຕອນ. ຕິດຕໍ່ພວກເຮົາຜ່ານຊ່ອງທາງຕ່າງໆເພື່ອຮັບການຊ່ວຍເຫຼືອທັນທີ.",
        "whatsapp_support": "ຊ່ວຍເຫຼືອຜ່ານ WhatsApp",
        "email_support": "ຊ່ວຍເຫຼືອຜ່ານ Email",
        "hotline_support": "ສາຍດ່ວນ 24/7",
        "chat_now": "ສົນທະນາຕອນນີ້",
        "faq_title": "ຄຳຖາມທີ່ພົບເລື້ອຍ",
        "get_in_touch": "ຕິດຕໍ່ພວກເຮົາ",
        "contact_info": "ຂໍ້ມູນການຕິດຕໍ່",
        "footer_about": "ຄູ່ຮ່ວມງານທ້ອງຖິ່ນທີ່ທ່ານໄວ້ວາງໃຈ ສຳລັບການຜະຈົນໄພທີ່ບໍ່ມີວັນລືມ.",
        "quick_links": "ລິ້ງດ່ວນ",
        "all_rights_reserved": "ສະຫງວນລິຂະສິດ.",
        "phone": "ເບີໂທລະສັບ",
        "email": "ອີເມວ",
        "location": "ສະຖານທີ່",
        "your_name": "ຊື່ຂອງທ່ານ",
        "your_email": "ອີເມວຂອງທ່ານ",
        "message": "ຂໍ້ຄວາມ",
        "send_message": "ສົ່ງຂໍ້ຄວາມ",
        "search_tickets": "ຄົ້ນຫາປີ້",
        "book_now": "ຈອງຕອນນີ້",
        "tours_title": "ທົວຜະຈົນໄພໃນລາວ",
        "tours_subtitle": "ສຳຫຼວດຄວາມມຫັດສະຈັນຂອງລາວດ້ວຍທົວຜະຈົນໄພທີ່ພວກເຮົາຄັດສັນມາຢ່າງດີ. ຕັ້ງແຕ່ວັດວາອາຮາມທີ່ສັກສິດ ຈົນເຖິງປະສົບການກາງແຈ້ງທີ່ຕື່ນເຕັ້ນ.",
        "packages_title": "ແພັກເກດທົວຫຼາຍມື້",
        "tickets_title": "ຈອງປີ້ລົດເມ ແລະ ປີ້ລົດໄຟ",
        "book_your_ticket": "ຈອງປີ້ຂອງທ່ານ",
        "form_instruction": "ກະລຸນາຕື່ມຂໍ້ມູນລຸ່ມນີ້ເພື່ອຈອງປີ້. ພວກເຮົາຈະຕິດຕໍ່ຫາທ່ານເພື່ອຢືນຢັນລາຍລະອຽດ ແລະ ການຊຳລະເງິນ.",
        "travel_date": "ວັນທີເດີນທາງ",
        "guests": "ຈຳນວນຜູ້ໂດຍສານ",
        "selected_ticket": "ປີ້ທີ່ເລືອກ",
        "full_name": "ຊື່ເຕັມ",
        "email_address": "ທີ່ຢູ່ອີເມວ",
        "phone_number": "WhatsApp / ເບີໂທ",
        "special_requests": "ຄຳຮ້ອງຂໍເພີ່ມເຕີມ / ໝາຍເຫດ",
        "request_booking": "ຮ້ອງຂໍການຈອງ",
        "inquire_now": "ສອບຖາມຕອນນີ້",
        "chat_to_book": "ສົນທະນາເພື່ອຈອງ"
    },
    zh: {
        "nav_home": "首页",
        "nav_tours": "特色旅游",
        "nav_packages": "旅游套餐",
        "nav_tickets": "交通预订",
        "nav_about": "关于我们",
        "nav_support": "客户支持",
        "nav_contact": "联系我们",
        "hero_title": "探索老挝未被触及的灵魂",
        "hero_subtitle": "与当地专家一起体验地道文化、壮丽自然和难忘的冒险。",
        "hero_btn": "探索旅游项目",
        "section_tours_title": "精选旅游",
        "view_details": "查看详情",
        "view_package_details": "查看套餐详情",
        "support_title": "客户服务中心",
        "support_subtitle": "我们全程为您提供帮助。如有需要，请随时通过我们的任何支持渠道联系我们。",
        "whatsapp_support": "WhatsApp 支持",
        "email_support": "邮件支持",
        "hotline_support": "24/7 紧急热线",
        "chat_now": "现在咨询",
        "faq_title": "常见问题",
        "get_in_touch": "保持联系",
        "contact_info": "联系信息",
        "footer_about": "为您打造难忘亚洲冒险之旅的值得信赖的当地伙伴。",
        "quick_links": "快速链接",
        "all_rights_reserved": "版权所有。",
        "phone": "电话",
        "email": "邮箱",
        "location": "地点",
        "your_name": "您的姓名",
        "your_email": "您的邮箱",
        "message": "留言内容",
        "send_message": "发送信息",
        "search_tickets": "搜索票务",
        "book_now": "立即预订",
        "tours_title": "老挝探险之旅",
        "tours_subtitle": "通过我们精心策划的探险旅游探索老挝的奇迹。从精美的寺庙到刺激的户外体验，每次旅行都旨在创造难忘的回忆。",
        "packages_title": "多日旅游套餐",
        "tickets_title": "预订巴士和火车票",
        "book_your_ticket": "预订您的票务",
        "form_instruction": "请填写下方表格进行预订。我们将联系您确认详情和付款方式。",
        "travel_date": "旅行日期",
        "guests": "乘车人数",
        "selected_ticket": "已选票务",
        "full_name": "全名",
        "email_address": "电子邮箱",
        "phone_number": "WhatsApp / 电话",
        "special_requests": "特殊要求 / 备注",
        "request_booking": "提交预订请求",
        "inquire_now": "立即咨询",
        "chat_to_book": "通过聊天预订"
    }

};

function setLanguage(lang) {
    localStorage.setItem('preferredLanguage', lang);
    document.documentElement.setAttribute('lang', lang);
    applyTranslations(lang);
    updateToggleUI(lang);
}

function applyTranslations(lang) {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang] && translations[lang][key]) {
            if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                el.placeholder = translations[lang][key];
            } else {
                el.textContent = translations[lang][key];
            }
        }
    });

    // Handle Body Classes for Language-Specific Styling
    document.body.classList.remove('lao-font', 'zh-font');
    if (lang === 'lo') {
        document.body.classList.add('lao-font');
    } else if (lang === 'zh') {
        document.body.classList.add('zh-font');
    }
}

function updateToggleUI(lang) {
    const btns = {
        'en': document.getElementById('lang-en'),
        'lo': document.getElementById('lang-lo'),
        'zh': document.getElementById('lang-zh')
    };

    // Clear all active classes
    Object.values(btns).forEach(btn => {
        if (btn) btn.classList.remove('active');
    });

    // Add active class to current lang button
    if (btns[lang]) {
        btns[lang].classList.add('active');
    }
}

function initLanguage() {
    const savedLang = localStorage.getItem('preferredLanguage') || 'en';
    setLanguage(savedLang);
}

document.addEventListener('DOMContentLoaded', () => {
    initLanguage();

    const langSelectors = [
        { id: 'lang-en', lang: 'en' },
        { id: 'lang-lo', lang: 'lo' },
        { id: 'lang-zh', lang: 'zh' }
    ];

    langSelectors.forEach(selector => {
        const btn = document.getElementById(selector.id);
        if (btn) {
            btn.addEventListener('click', (e) => {
                e.preventDefault();
                setLanguage(selector.lang);
            });
        }
    });
});
